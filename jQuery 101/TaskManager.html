<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Task Manager</title>

	<style>
	.completed {
		color : red;
		font-style: italic;
		text-decoration: line-through;
	}
	</style>
	<script src="assets/js/jquery-1.10.2.js"></script>
	<script>
	(function(){
		function initialize(){
			$('#btnAdd').click(onBtnAddClick);
			// document.getElementById("btnAdd").addEventListener("click",onBtnAddClick);

			$('#btnRemoveCompleted').click(onBtnRemoveCompleted);
			// document.getElementById("btnRemoveCompleted").addEventListener("click",onBtnRemoveCompleted);

			$("#ulTaskList").delegate("li", "click", onTaskItemClick);
			// $("#ulTaskList>li").click(onTaskItemClick);
			// // var ulTaskList=document.getElementById("ulTaskList");
			// // for (var i in ulTaskList.children)
			// // {
			// // 	ulTaskList.children[i].addEventListener("click", onTaskItemClick);
			// // }
		}
		function onBtnAddClick(){
			// var taskName = $('#txtTask').val();
			// // var taskName = document.getElementById("txtTask").value;
			
			// var $newTask = $("<li>").text($('#txtTask').val()).click(onTaskItemClick);
			// // var $newTask = $("<li>");
			// // // var newTask = document.createElement("li");
			// // $newTask.text(taskName);

			// $newTask.click(onTaskItemClick);
			// // newTask.addEventListener("click",onTaskItemClick);

			// $taskList=$('#ulTaskList');
			// // var taskList = document.getElementById("ulTaskList");

			$('#ulTaskList')
				.append($("<li>")
							.text($('#txtTask').val())
							// .click(onTaskItemClick)
							);
			// $('#ulTaskList')
			// 	.append($("<li>")
			// 				.text($('#txtTask').val())
			// 				.click(onTaskItemClick));
			// // $taskList.append($newTask);
			// // // taskList.appendChild(newTask);
		}
		function onTaskItemClick(){
			// var $this=$(this)
			
			$(this).toggleClass('completed');
			// if ($this.hasClass("completed")){
			// 	$this.removeClass("completed");
			// } else {
			// 	$this.addClass("completed");
			// }

			// if (this.classList.contains("completed")){
			// 	this.classList.remove("completed");
			// } else {
			// 	this.classList.add("completed");
			// }
		}
		function onBtnRemoveCompleted(){
			$('#ulTaskList>li.completed').remove();
			// var taskList = document.getElementById("ulTaskList");
			// for(var i=taskList.children.length-1;i>=0;i--){
			// 	// it is always items to remove the item from the end of the list, because otherwise the change in the length of the list might alter the operation
			// 	var taskItem = taskList.children[i];
			// 	if (taskItem.classList.contains("completed")){
			// 		taskItem.remove();
			// 	}
			// }
		}
		$(initialize);
		// window.addEventListener("DOMContentLoaded",initialize);

	})();

	</script>
</head>
<body>
	<h1>Task Manager</h1>
	<span>Task :</span>
	<input type="text" name="" id="txtTask">
	<input type="button" value="Add Task" id="btnAdd">
	<input type="button" value="Remove Completed" id="btnRemoveCompleted">
	<ul id="ulTaskList"></ul>
	<div id="divMessage"></div>
</body>
</html>